services:

  xrd-db:
    extends:
      file: ../common/docker-compose.yml
      service: xrd-db

  xrd-cs:
    extends:
      file: ../../../centralserver/admin-service/build/docker/docker-compose.base.yml
      service: xrd-cs
    depends_on:
      xrd-db:
        condition: service_healthy
      xrd-cs-signer:
        condition: service_started

  xrd-cs-signer:
    extends:
      file: ../../../signer/build/docker/docker-compose.yml
      service: xrd-cs-signer

  xrd-cs-ui:
    extends:
      file: ../../../centralserver/admin-ui/build/docker/docker-compose.yml
      service: xrd-cs-ui

volumes:
  x_road_db:
  globalconf:
